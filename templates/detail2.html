<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://unpkg.com/tailwindcss@2.2.4/dist/tailwind.min.css" rel="stylesheet">

    <script>
         $(document).ready(function () {

         });
        
        function result() {
            window.location.href = '/result';
        }
        function home() {
            window.location.href = '/';
        }
        function index() {
            window.location.href = '/index';
        }

    </script>
</head>
<body class="h-screen overflow-hidden flex items-center justify-center" style="background: #edf2f7;">
    <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SSumbarota 연애조작단 for non-login users</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
        rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href = "../static/main.css">
    <link rel="stylesheet" type="text/css" href = "../static/loading.css">
</head>
 <script src="js/loading.js"></script>
<!-- https://alpinejs.dev/directives/data -->
    <div id="loading-screen">
      <img src="..\static\poke.gif" class="rotate" loop=infinite />
    </div>
    <div class="flex h-screen w-full bg-pink-100" x-data="{openMenu:1}">
        <!--Start SideBar 사이드바 aside는 사이드메뉴 담는 태그래여-->
        <aside class="w-20 relative z-20 flex-shrink-0  px-2 overflow-y-auto bg-pink-600 sm:block">
            <div class="mb-6">
                <!--Start logo 사이드바 안에 있는 컨텐츠들입니다 -->
                <div>
                <!-- 최상단 아이콘 2개 -->
                  <ul class="mt-6 leading-10 px-4">
                  <!-- mb : 마진 bottom 줄임말 테일윈드 페이지상단에 약어를 검색하면 나와여 -->
                    <li class="mb-3 p-2 rounded-md flex items-center justify-center bg-purple-400 cursor-pointer border-r-2 border-b-2 transform  hover:scale-110 hover:bg-purple-300"
                        @click="openMenu !== 1 ? openMenu = 1 : openMenu = null"
                      >
                      <!-- 아이콘 기능 사이트 https://fontawesome.com/v4.7/icons/ -->
                      <i class="fas fa fa-globe fa-sm text-white"></i>
                    </li>
                    <li class="mb-3 p-2 rounded-md flex items-center justify-center bg-pink-400 cursor-pointer border-r-2 border-b-2 transform hover:scale-110 hover:bg-pink-300" 
                    @click="openMenu !== 8 ? openMenu = 8 : openMenu = null">
                      <i class="fas fa fa-heartbeat fa-sm text-white"></i>
                    </li>



                    <!-- 전원버튼 불꺼짐 -->
                    <li class="absolute bottom-0 mb-3 p-2 rounded-full flex items-center mx-auto  cursor-pointer transition duration-500 ease-in-out bg-pink-100 transform hover:-translate-y-1 hover:scale-110 " @click="openMenu !== 7 ? openMenu = 7 : openMenu = null">
                      <i class="fas fa-power-off fa-sm text-gray-400"></i>
                    </li>
                  </ul>
                </div>
            </div>
        </aside>


        <!-- 보라색 누르면 나오는 메뉴 -->
        <aside class="animate__animated animate__fadeInLeft w-52 relative z-0 flex-shrink-0 hidden px-4 overflow-y-auto bg-pink-200 sm:block " 
               x-show="openMenu ==  1" 

               style="display: none;">
            <div class="mb-6">
              <!--오픈메뉴 함수로 열리는 메뉴들 4개 -->
              <div class="grid grid-cols-1 gap-4 mt-6">
                <!-- 아이콘은 같은회사꺼 씁니다 -->

                <!-- <a href="./result.html" target="_blank"> -->
                <div id="shakeit2" class="p-2 flex flex-col items-center bg-white rounded-md justify-center shadow-xl cursor-pointer transform hover:scale-110" onclick="result()" >
                  
                <div class="rounded-full p-2 bg-pink-200 flex flex-col items-center">
                    <i class="fas fa-chart-pie fa-sm text-pink-500"></i>
                  </div>
                  <p class="text-xs mt-1 text-center font-semibold">전체보기</p>
                </div>
                <!-- </a> -->
              
<!-- <a href ="./result.html" target="_blank"> -->
                <div id="shakeit2_2" class="p-2 flex flex-col items-center bg-white rounded-md justify-center shadow-xl cursor-pointer transform hover:scale-110"  @click="openMenu !== 3 ? openMenu = 3 : openMenu = null" onclick="result()">
                  <div class="rounded-full p-2 bg-pink-200 flex flex-col items-center">
                    <i class="fas fa fa-paw fa-sm text-pink-500"></i>
                  </div>
                  <p class="text-xs mt-1 text-center font-semibold ">오늘의핫플</p>
                </div>
<!-- </a> -->
                <div id="shakeit2" class="p-2 flex flex-col items-center bg-white rounded-md justify-center shadow-xl cursor-pointer transform hover:scale-110" @click="openMenu !== 7 ? openMenu = 7 : openMenu = null">
                  <div class="rounded-full p-2 bg-pink-200 flex flex-col items-center">
                    <i class="fas fa-id-card fa-sm text-pink-500"></i>
                  </div>
                  <p class="text-xs mt-1 text-center font-semibold">마이페이지</p>
                </div>

                <div id="shakeit2_2" class="p-2 flex flex-col items-center bg-white rounded-md justify-center shadow-xl cursor-pointer transform hover:scale-110" @click="openMenu !== 7 ? openMenu = 7 : openMenu = null">
                  <div class="rounded-full p-2 bg-pink-200 flex flex-col items-center ">
                    <i class="fas fa-archive fa-sm text-pink-500"></i>
                  </div>
                  <p class="text-xs mt-1 text-center font-semibold">지역별추천</p>
                </div>

              </div>
            </div>
        </aside>

        <!-- End Open Menu -->
        <aside class="animate__animated animate__fadeInLeft w-52 relative z-0 flex-shrink-0 hidden px-4 overflow-y-auto bg-pink-200 sm:block " 
               x-show="openMenu ==  7" 
               @click.away="openMenu = null"
               style="display: none;">
<div class="w-full h-auto flex items-center justify-center">
    <div class="bg-pink-200 w-full h-auto rounded-md pt-8 pb-12 mb-3 flex flex-col items-center">
        <label class="font-light text-3xl mb-3"><span class= "text-pink-700 ">SS</span><span class="font-thin text-xl">umbarota</span><span class="font-bold"><br>연애조작단</span></label>
        <form methods = "get" id="login" action={{url_for("login")}} >
        <input type="email" name="email" id="email" class="w-full h-11 rounded-md px-4 mb-2" placeholder="아이디"/>
        <input type="password" name="password" id="password" class="w-full h-11 rounded-md px-4 mb-2" placeholder="비밀번호"/>
        <button id="btnheart" type="submit" class="w-full h-12 rounded-lg bg-pink-400  uppercase font-semibold hover:bg-pink-600 text-gray-100 transition mb-2" >Login</button>
        <button id="btnheart" class="w-full h-12 rounded-lg bg-pink-300 text-gray-150 uppercase font-semibold hover:bg-pink-500 text-gray-100 transition mb-2">Sign with kakao</button>
        <p id="noid" class="cursor-pointer text-right text-sm font-medium text-pink-500 underline ml-11 flex items-center" onclick="index()">아이디가 없어요</p>
        </form>
    </div>
</div>
        </aside>

        <!-- 이런식으로 aside를 통째로 추가 -->
                <aside class="animate__animated animate__fadeInLeft w-52 relative z-0 flex-shrink-0 hidden px-0 overflow-y-auto bg-pink-200 sm:block " 
               x-show="openMenu ==  8" 

               style="display: none;">
<!-- 가입하세요! -->
<div class="flex flex-wrap place-items-center h-screen">
    <!-- card -->
    <div id="shakeit" class="overflow-hidden shadow-lg transition duration-500 ease-in-out   rounded-lg md:w-140 m-auto">
        
            <div class="bg-white w-full p-6 mt-3">
                <p class="text-gray-500 text-2xl font-medium">
                    가입하세요!
                </p>
                <p class="text-gray-800 text-sm font-medium mb-2">
                    실제 이용자들의 후기가 궁금하신가요?
                </p>
                <p class="text-gray-600 font-light text-md">
                    넓고도 좁은 서울... 사용자들에 의해 검증된 시스템!
                    간단한 가입만으로 제한없이 액세스 가능합니다.
                    <a id="noid" class="inline-flex text-pink-500 cursor-pointer" onclick="home()">가입하러가기</a>
                </p>
                <div class="flex flex-wrap justify-starts items-center py-3 border-b-2 text-xs text-white font-medium">
                    <span class="m-1 px-2 py-1 rounded bg-pink-400 cursor-pointer">
                        #해시태그
                    </span>
                    <span class="m-1 px-2 py-1 rounded bg-pink-400 cursor-pointer">
                        #핫플레이스
                    </span>
                    <span class="m-1 px-2 py-1 rounded bg-pink-400 cursor-pointer">
                        #추천
                    </span>
                </div>
                <div class="flex items-center mt-2">
                    <img class='w-10 h-10 object-cover rounded-full' alt='User avatar' src='https://stickershop.line-scdn.net/stickershop/v1/product/8543/LINEStorePC/main.png;compress=true'>
        
                    <div class="pl-3">
                        <div class="font-medium">
                            김 피카츄
                        </div>
                        <div class="text-gray-600 text-sm">
                            CTO of pokemonCenter
                        </div>
                    </div>
                </div>
            </div>
        </a>
    </div>
    
</div>
<!-- Does this resource worth a follow? -->
<div class="absolute bottom-0 right-0 mb-4 mr-4 z-10">
    <div>
        <a title="Follow me on Kakao" href="" target="_blank" class="block w-16 h-16 rounded-full transition-all shadow hover:shadow-lg transform hover:scale-110 hover:rotate-12">
            <img class="object-cover object-center w-full h-full rounded-full" src="https://i0.wp.com/forhappywomen.com/wp-content/uploads/2018/11/%EC%82%B0%EB%B6%80%EC%9D%B8%EA%B3%BC-%ED%8F%AC%ED%95%B4%ED%94%BC%EC%9A%B0%EB%A8%BC-%EB%AC%B8%EC%9D%98-%EC%B9%B4%EC%B9%B4%EC%98%A4%ED%94%8C%EB%9F%AC%EC%8A%A4%EC%B9%9C%EA%B5%AC-%EB%B2%84%ED%8A%BC.png?resize=586%2C586&ssl=1"/>
        </a>
    </div>
</div>

        </aside>

        <!-- End Sidebar -->

        <div class="flex flex-col flex-1 w-full">
            <!-- 상단바입니다 -->
            <!--End Topbar -->
          <main class="relative z-0 flex-1 pb-8 px-6 bg-pink-50">
              <div class="grid pb-10  mt-4 ">


<div id="map" style="width:100%;height:350px;"></div>

<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=3fb1d81eaff16a6e4b3acd6169d25567"></script>
<script>
    var mapContainer = document.getElementById('map'), // 지도를 표시할 div
        mapOption = {
            center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
            level: 9 // 지도의 확대 레벨
        };

    var map = new kakao.maps.Map(mapContainer, mapOption),
        customOverlay = new kakao.maps.CustomOverlay({}),
        infowindow = new kakao.maps.InfoWindow({removable: true});
     $(document).ready(function () {
        mapcontrol()
    })
    function mapcontrol(){}

    $.getJSON("static/JSON/TL_SCCO_SIG.geojson", function (geojson){
        var data = geojson.features;
        var coordinates = [];
        var name = ''

        $.each(data, function(index, val){

            coordinates = val.geometry.coordinates;
            name = val.properties.SIG_KOR_NM;

            displayArea(coordinates, name);
        })
    })

    var polygons=[];


    function displayArea(coordinates, name){

        var path = [];
        var points = [];
        $.each(coordinates[0], function (index, coordinate){
            var point = new Object();
            point.x = coordinate[1]
            point.y = coordinate[0]
            points.push(point)
            path.push(new kakao.maps.LatLng(coordinate[1],coordinate[0]));
        })

        var polygon = new kakao.maps.Polygon({
            map : map,
            path : path,
            strokeweight : 2,
            strokeColor : '#101010',
            strokeOpacity: 0.8,
            fillcolor : '#fff',
            fillOpacity: 0.7
        });

        polygons.push(polygon);

        // 다각형에 mouseover 이벤트를 등록하고 이벤트가 발생하면 폴리곤 채움색을 변경합니다.
        // 지역명을 표시하는 커스텀오버레이를 지도위에 표시합니다!

        kakao.maps.event.addListener(polygon, 'mouseover', function(mouseEvent){
            polygon.setOptions({
                fillcolor : '#09f'
            });

            customOverlay.setContent('<div class="area">' + name + '</div>')

            customOverlay.setPosition(mouseEvent.latLng);
            customOverlay.setMap(map);
        });

        //다각형에 mouseout 이벤트를 등록하고 이벤트가 발생하면 채움색을 원래색으로 복구
        // 커스텀 오버레이를 지도에서 제거!

        kakao.maps.event.addListener(polygon, 'mouseout', function (){
            polygon.setOptions({
                fillcolor : '#c07c7c'
            });
            customOverlay.setMap(null);
        });

        //다각형에 click 이벤트를 등록하고 이벤트가 발생하면 해당 지역을 확대합니다.
        kakao.maps.event.addListener(polygon, 'click', function (){

            // 현재 지도 레벨에서 2레벨 확대한 레벨
            var level = map.getLevel()-2;

            map.setLevel(level, {anchor : centroid(points), animate : {
                duration : 350
                }});

            deletePolygon(polygons);  //폴리곤 제거
        });
    }
    function centroid(points) {
        var i, j, len, p1, p2, f, area, x, y;

        area = x = y = 0;

        for (i=0, len = points.length, j = len-1; i<len;j = i++){
            p1 = points[i];
            p2 = points[j];

            f = p1.y * p2.x - p2.y * p1*x;
            x += (p1.x + p2.x) * f;
            y += (p1.y + p2.y) * f;
            area += f * 3;
        }

        return new kakao.maps.latLang(x/ area, y / area)
    }

    //지도 위 표시되고 있는 폴리곤 제거
    function deletePolygon(polygons){
        for (var i=0; i < polygons.length; i++) {
            polygons[i].setMap(null);
        }

        polygons = [];
    }

</script>
                            </div>
                          </div>
                      </div>        
                    </div>
                    
                  <!-- End Content-->
              </div>
          </main>
        </div>
    </div>
</body>
</body>
</html>
